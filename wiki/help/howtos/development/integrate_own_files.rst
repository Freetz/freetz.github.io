help/howtos/development/integrate_own_files
===========================================
Howtos: Entwicklung
^^^^^^^^^^^^^^^^^^^

#. `Entpacken und Packen von
   Firmware-Images <repack_fw.html#EntpackenundPackenvonFirmware-Images>`__

   #. `Tools und Syntax <repack_fw.html#ToolsundSyntax>`__
   #. `Vorgehensweise <repack_fw.html#Vorgehensweise>`__
   #. `Verwendung von fwmod im "no
      freetz"-Modus <repack_fw.html#Verwendungvonfwmodimnofreetz-Modus>`__

#. `Patches in Freetz
   einspielen <integrate_patches.html#PatchesinFreetzeinspielen>`__
#. `Example 3:
   NZBGet <developer_information/package_development_start/example_3.html#Example3:NZBGet>`__

   #. `Build
      manually <developer_information/package_development_start/example_3.html#Buildmanually>`__
   #. `Add package to
      Freetz <developer_information/package_development_start/example_3.html#AddpackagetoFreetz>`__
   #. `Create new image with added
      package <developer_information/package_development_start/example_3.html#Createnewimagewithaddedpackage>`__
   #. `Testing <developer_information/package_development_start/example_3.html#Testing>`__
   #. `Preparing New Package for Public Integration to Freetz
      Trunk <developer_information/package_development_start/example_3.html#PreparingNewPackageforPublicIntegrationtoFreetzTrunk>`__

#. `Example 2:
   par2cmdline <developer_information/package_development_start/example_2.html#Example2:par2cmdline>`__

   #. `Build
      manually <developer_information/package_development_start/example_2.html#Buildmanually>`__
   #. `Add package to
      Freetz <developer_information/package_development_start/example_2.html#AddpackagetoFreetz>`__
   #. `Create new image with added
      package <developer_information/package_development_start/example_2.html#Createnewimagewithaddedpackage>`__
   #. `Testing <developer_information/package_development_start/example_2.html#Testing>`__
   #. `Preparing New Package for Public Integration to Freetz
      Trunk <developer_information/package_development_start/example_2.html#PreparingNewPackageforPublicIntegrationtoFreetzTrunk>`__

#. `Example 1:
   Httptunnel <developer_information/package_development_start/example_1.html#Example1:Httptunnel>`__

   #. `Build
      manually <developer_information/package_development_start/example_1.html#Buildmanually>`__
   #. `Add package to
      Freetz <developer_information/package_development_start/example_1.html#AddpackagetoFreetz>`__
   #. `Call Procedures "make menuconfig" and
      "make" <developer_information/package_development_start/example_1.html#CallProceduresmakemenuconfigandmake>`__
   #. `Testing <developer_information/package_development_start/example_1.html#Testing>`__
   #. `Preparing New Package for Public Integration to Freetz
      Trunk <developer_information/package_development_start/example_1.html#PreparingNewPackageforPublicIntegrationtoFreetzTrunk>`__

#. 

   #. `Signieren von Firmware <sign_image.html#SignierenvonFirmware>`__
   #. `Konkrete Anwendung in
      Freetz <sign_image.html#KonkreteAnwendunginFreetz>`__

#. `Ablauf eines
   Firmware-Updates <firmware_update_details.html#AblaufeinesFirmware-Updates>`__
#. `Eigene Programme
   kompilieren <compile_own_progs.html#EigeneProgrammekompilieren>`__
#. `Dynamische Bandbreitenanzeige per
   SVG <bandwidth_svg.html#DynamischeBandbreitenanzeigeperSVG>`__

   #. `Anleitung zur
      Test-Installation <bandwidth_svg.html#AnleitungzurTest-Installation>`__

#. `Platz sparen im Dateisystem der
   FritzBox <make_room.html#PlatzsparenimDateisystemderFritzBox>`__

   #. `Vorwort und Motivation <make_room.html#VorwortundMotivation>`__
   #. `Bestandsaufnahme: Wo stecken die
      Platzfresser? <make_room.html#Bestandsaufnahme:WosteckendiePlatzfresser>`__
   #. `Weitere Spartricks <make_room.html#WeitereSpartricks>`__
   #. `Schlußwort <make_room.html#Schlußwort>`__

#. `Flash-Partitionen im laufenden Betrieb
   sichern <save_mtd_1.html#Flash-PartitionenimlaufendenBetriebsichern>`__

   #. `Motivation <save_mtd_1.html#Motivation>`__
   #. `Voraussetzungen <save_mtd_1.html#Voraussetzungen>`__
   #. `Lösungsweg <save_mtd_1.html#Lösungsweg>`__
   #. `Wege, sich schnell einen Überblick zu
      verschaffen <save_mtd_1.html#WegesichschnelleinenÜberblickzuverschaffen>`__
   #. `Zusammenfassung <save_mtd_1.html#Zusammenfassung>`__

#. `Release Management <release_management.html#ReleaseManagement>`__

   #. `Subversion
      Repository <release_management.html#SubversionRepository>`__
   #. `Checklists <release_management.html#Checklists>`__
   #. `GIT <release_management.html#GIT>`__
   #. `Downloads <release_management.html#Downloads>`__
   #. `References <release_management.html#References>`__

#. `First steps - How to start your first freetz
   package <developer_information/package_development_start.html#Firststeps-Howtostartyourfirstfreetzpackage>`__

   #. `Info <developer_information/package_development_start.html#Info>`__
   #. `Build
      Environment <developer_information/package_development_start.html#BuildEnvironment>`__
   #. `File
      Structure <developer_information/package_development_start.html#FileStructure>`__
   #. `Examples Binary
      Package <developer_information/package_development_start.html#ExamplesBinaryPackage>`__
   #. `Configuration
      Handling <developer_information/package_development_start.html#ConfigurationHandling>`__
   #. `Examples
      Web-Interface <developer_information/package_development_start.html#ExamplesWeb-Interface>`__
   #. `Trouble
      shooting <developer_information/package_development_start.html#Troubleshooting>`__

#. `Kernel konfigurieren und
   kompilieren <make_kernel.html#Kernelkonfigurierenundkompilieren>`__
#. `Menükonfiguration
   pflegen <menuconfig.html#Menükonfigurationpflegen>`__

   #. `Einstieg <menuconfig.html#Einstieg>`__
   #. `Beispiel-Konfiguration für ein neues
      Paket <menuconfig.html#Beispiel-KonfigurationfüreinneuesPaket>`__
   #. `Menuconfig-Warnungen
      beheben <menuconfig.html#Menuconfig-Warnungenbeheben>`__
   #. `Erklärung und Anwendung der erweiterten
      MK-Targets <menuconfig.html#ErklärungundAnwendungdererweitertenMK-Targets>`__
   #. `Syntax-Fehler in MK-Dateien
      finden <menuconfig.html#Syntax-FehlerinMK-Dateienfinden>`__
   #. `Syntax-Hervorhebung für
      MK-Dateien <menuconfig.html#Syntax-HervorhebungfürMK-Dateien>`__

#. `ADAM2-Bootloader <adam2.html#ADAM2-Bootloader>`__

   #. `Bootloader-Backup
      anlegen <adam2.html#Bootloader-Backupanlegen>`__
   #. `Bootloader überschreiben <adam2.html#Bootloaderüberschreiben>`__
   #. `Bootloader-Befehle <adam2.html#Bootloader-Befehle>`__
   #. `Bootloader-Quelltext <adam2.html#Bootloader-Quelltext>`__
   #. `Aufbau des Bootloaders <adam2.html#AufbaudesBootloaders>`__
   #. `Bootloader und Freetz <adam2.html#BootloaderundFreetz>`__

#. `Einstellungen speichern im
   Urlader-Environment <urlader_flags.html#EinstellungenspeichernimUrlader-Environment>`__

   #. `Vorwort und
      Motivation <urlader_flags.html#VorwortundMotivation>`__
   #. `Lösungsmöglichkeiten <urlader_flags.html#Lösungsmöglichkeiten>`__
   #. `Bootloader
      Environment <urlader_flags.html#BootloaderEnvironment>`__
   #. `Variable
      "kernel_args" <urlader_flags.html#Variablekernel_args>`__
   #. `Kernel_Args-API <urlader_flags.html#Kernel_Args-API>`__
   #. `Mögliche
      Anwendungsfälle <urlader_flags.html#MöglicheAnwendungsfälle>`__

#. `Busybox konfigurieren und
   kompilieren <make_busybox.html#Busyboxkonfigurierenundkompilieren>`__
#. `Wie baue ich ein eigenes Paket für
   Freetz? <package_creation.html#WiebaueicheineigenesPaketfürFreetz>`__
#. `Firmware-Image-Namen analysieren und
   interpretieren <analyse_image_names.html#Firmware-Image-Namenanalysierenundinterpretieren>`__

   #. `Einleitung <analyse_image_names.html#Einleitung>`__
   #. `Skript-Code <analyse_image_names.html#Skript-Code>`__
   #. `Daten im Rohformat <analyse_image_names.html#DatenimRohformat>`__
   #. `Ausgabe grundlegender
      Informationen <analyse_image_names.html#AusgabegrundlegenderInformationen>`__
   #. `Ausgabe erweiterter
      Informationen <analyse_image_names.html#AusgabeerweiterterInformationen>`__

#. 

   #. `Web-interface
      HTTPTunnel <developer_information/package_development_start/webinterface_example_1.html#Web-interfaceHTTPTunnel>`__

#. `Developer
   Information <developer_information.html#DeveloperInformation>`__
#. `Addon Paket
   installieren <install_addon.html#AddonPaketinstallieren>`__
#. `Paketverwaltung für
   Freetz <developer_information/package_development_dynamic.html#PaketverwaltungfürFreetz>`__

   #. `Erweiterung des
      Dateisystems <developer_information/package_development_dynamic.html#ErweiterungdesDateisystems>`__
   #. `Paketverwaltung <developer_information/package_development_dynamic.html#Paketverwaltung>`__
   #. `Links <developer_information/package_development_dynamic.html#Links>`__
   #. `Kommentare <developer_information/package_development_dynamic.html#Kommentare>`__

#. `Wie die FritzBox Manipulationen
   erkennt <manipulation_detection.html#WiedieFritzBoxManipulationenerkennt>`__

   #. `Ursachen <manipulation_detection.html#Ursachen>`__
   #. `Diagnose <manipulation_detection.html#Diagnose>`__
   #. `Lösungen <manipulation_detection.html#Lösungen>`__
   #. `Schlußwort und
      Ausblick <manipulation_detection.html#SchlußwortundAusblick>`__

#. `Shell Coding
   Conventions <developer_information/shell_coding_conventions.html#ShellCodingConventions>`__

   #. `Shell
      Language <developer_information/shell_coding_conventions.html#ShellLanguage>`__
   #. `Basic
      Format <developer_information/shell_coding_conventions.html#BasicFormat>`__
   #. `If, For, and
      While <developer_information/shell_coding_conventions.html#IfForandWhile>`__
   #. `Test
      Built-in <developer_information/shell_coding_conventions.html#TestBuilt-in>`__
   #. `Single-line conditional
      statements <developer_information/shell_coding_conventions.html#Single-lineconditionalstatements>`__
   #. `Infinite
      Loops <developer_information/shell_coding_conventions.html#InfiniteLoops>`__
   #. `Exit Status and If/While
      Statements <developer_information/shell_coding_conventions.html#ExitStatusandIfWhileStatements>`__
   #. `Variable
      References <developer_information/shell_coding_conventions.html#VariableReferences>`__
   #. `Variable
      Naming <developer_information/shell_coding_conventions.html#VariableNaming>`__
   #. `Quoting <developer_information/shell_coding_conventions.html#Quoting>`__
   #. `Variable
      Assignments <developer_information/shell_coding_conventions.html#VariableAssignments>`__
   #. `Testing for (Non-)Empty
      Strings <developer_information/shell_coding_conventions.html#TestingforNon-EmptyStrings>`__
   #. `Commenting <developer_information/shell_coding_conventions.html#Commenting>`__
   #. `Pathnames <developer_information/shell_coding_conventions.html#Pathnames>`__
   #. `Interpreter
      Magic <developer_information/shell_coding_conventions.html#InterpreterMagic>`__

#. `Package
   Development <developer_information/package_development.html#PackageDevelopment>`__

   #. `Persistent Package
      Settings <developer_information/package_development.html#PersistentPackageSettings>`__

#. `Erstellen einer GUI für Pakete in
   Freetz <create_gui.html#ErstelleneinerGUIfürPaketeinFreetz>`__

   #. `Motivation <create_gui.html#Motivation>`__
   #. `Grundlagen <create_gui.html#Grundlagen>`__
   #. `Wie funktioniert das mit der
      GUI? <create_gui.html#WiefunktioniertdasmitderGUI>`__

#. `Flash Partitionierung <flash.html#FlashPartitionierung>`__

   #. `Hidden SquashFS <flash.html#HiddenSquashFS>`__
   #. `Contiguous SquashFS <flash.html#ContiguousSquashFS>`__
   #. `Hidden Root <flash.html#HiddenRoot>`__
   #. `NAND Root <flash.html#NANDRoot>`__
   #. `Dateisystem <flash.html#Dateisystem>`__
   #. `Kernel <flash.html#Kernel>`__
   #. `Weblinks <flash.html#Weblinks>`__

#. `Trac
   Hooks <developer_information/post_commit_hook.html#TracHooks>`__

   #. `trac-post-commit-hook <developer_information/post_commit_hook.html#trac-post-commit-hook>`__
   #. `trac-post-revprop-change-hook <developer_information/post_commit_hook.html#trac-post-revprop-change-hook>`__

#. `Package Developing - Advanced
   Topics <developer_information/package_development_advanced.html#PackageDeveloping-AdvancedTopics>`__

   #. `Adding conditional
      patches <developer_information/package_development_advanced.html#Addingconditionalpatches>`__
   #. `Adding multi-binary
      packages <developer_information/package_development_advanced.html#Addingmulti-binarypackages>`__

#. `Eigene Dateien in die Firmware
   integrieren <integrate_own_files.html#EigeneDateienindieFirmwareintegrieren>`__

   #. `Feste Integration über das Freetz
      Image <integrate_own_files.html#FesteIntegrationüberdasFreetzImage>`__
   #. `Erzeugen der Dateien aus der
      debug.cfg <integrate_own_files.html#ErzeugenderDateienausderdebug.cfg>`__
   #. `Nachladen vom
      Webserver <integrate_own_files.html#NachladenvomWebserver>`__
   #. `Nachladen vom
      USB-Stick <integrate_own_files.html#NachladenvomUSB-Stick>`__
   #. `WebDAV Share
      mounten <integrate_own_files.html#WebDAVSharemounten>`__
   #. `NFS-Share mounten <integrate_own_files.html#NFS-Sharemounten>`__

#. `Freetz Build-Prozeß <freetz_make.html#FreetzBuild-Prozeß>`__

   #. `Vorwort und Motivation <freetz_make.html#VorwortundMotivation>`__
   #. `Grundsätzliches <freetz_make.html#Grundsätzliches>`__

#. `Flash-Partitionen von außen mit FTP
   sichern <save_mtd_2.html#Flash-PartitionenvonaußenmitFTPsichern>`__

   #. `Motivation <save_mtd_2.html#Motivation>`__
   #. `Voraussetzungen <save_mtd_2.html#Voraussetzungen>`__
   #. `Allgemeine Informationen zur
      Datensicherung <save_mtd_2.html#AllgemeineInformationenzurDatensicherung>`__
   #. `Sicherung mit Linux-Standard-FTP
      (ftp) <save_mtd_2.html#SicherungmitLinux-Standard-FTPftp>`__
   #. `Sicherung mit Linux-NcFTP
      (ncftpget) <save_mtd_2.html#SicherungmitLinux-NcFTPncftpget>`__
   #. `Sicherung mit Cygwin-NcFTP
      (ncftpget) <save_mtd_2.html#SicherungmitCygwin-NcFTPncftpget>`__
   #. `Uploads via FTP <save_mtd_2.html#UploadsviaFTP>`__

#. `libmodcgi.sh <developer_information/webif/libmodcgi.html#libmodcgi.sh>`__

   #. `cgi <developer_information/webif/libmodcgi.html#cgi>`__
   #. `cgi_begin <developer_information/webif/libmodcgi.html#cgi_begin>`__
   #. `cgi_end <developer_information/webif/libmodcgi.html#cgi_end>`__
   #. `sec_begin <developer_information/webif/libmodcgi.html#sec_begin>`__
   #. `sec_end <developer_information/webif/libmodcgi.html#sec_end>`__
   #. `html <developer_information/webif/libmodcgi.html#html>`__
   #. `check,
      select <developer_information/webif/libmodcgi.html#checkselect>`__
   #. `href <developer_information/webif/libmodcgi.html#href>`__
   #. `back_button <developer_information/webif/libmodcgi.html#back_button>`__
   #. `sec_level <developer_information/webif/libmodcgi.html#sec_level>`__
   #. `stat_bar <developer_information/webif/libmodcgi.html#stat_bar>`__
   #. `cgi_param <developer_information/webif/libmodcgi.html#cgi_param>`__
   #. `cgi_error,
      print_error <developer_information/webif/libmodcgi.html#cgi_errorprint_error>`__
   #. `path_info <developer_information/webif/libmodcgi.html#path_info>`__
   #. `valid <developer_information/webif/libmodcgi.html#valid>`__

#. `Cross-Compiler / Toolchain
   erstellen <create_cross-compiler_toolchain.html#Cross-CompilerToolchainerstellen>`__
#. `Eigene Download-Toolchain
   erstellen <create_cross-compiler_toolchain.html#EigeneDownload-Toolchainerstellen>`__
#. `Target/Native-Compiler-Toolchain
   erstellen <create_cross-compiler_toolchain.html#TargetNative-Compiler-Toolchainerstellen>`__

   #. `Using the dev-tools package to install compiler and
      tools <create_cross-compiler_toolchain.html#Usingthedev-toolspackagetoinstallcompilerandtools>`__

.. _EigeneDateienindieFirmwareintegrieren:

Eigene Dateien in die Firmware integrieren
==========================================

Die Fritzbox besitzt zwei Speicherbereiche:

#. den `Flash <flash.html>`__
#. den Arbeitsspeicher (RAM)

Um im laufenden Betrieb Dateien anzulegen und zu verändern, lässt sich
das Verzeichnis ``/tmp`` nutzen. Es liegt im Arbeitsspeicher in einer
RAM-Disk und arbeitet wie ein normales beschreibbares Dateisystem.
Folgende Dinge sind jedoch zu beachten:

-  Es nutzt den vorhandenen Arbeitsspeicher mit, der je nach Box bis zu
   64MB gross ist. Wird die Menge der Daten im Arbeitsspeicher zu groß,
   startet die Box ohne Vorwarnung neu.
-  Alles, was im Arbeitsspeicher liegt, ist nach einem Reboot oder
   Stromausfall verloren.

Für die "feste Integration" gibt es mehrere Möglichkeiten:

+-----------------------+-----------------------+-----------------------+
| Variante              | Pros                  | Contras               |
+=======================+=======================+=======================+
| via Freetz Image      | -  einfaches Handling | -  die modifizierte   |
|                       | -  keine bestehende   |    Firmware muss      |
|                       |    Internetverbindung |    geflasht werden    |
|                       |    erforderlich       | -  der Flash-Speicher |
|                       |                       |    ist kleiner als    |
|                       |                       |    das RAM und oft eh |
|                       |                       |    schon fast voll    |
+-----------------------+-----------------------+-----------------------+
| via ``debug.cfg``     | -  funktioniert auf   | -  funktioniert nur   |
|                       |    jeder Box          |    mit ASCII-Dateien, |
|                       | -  keine bestehende   |    wie z.B. mit       |
|                       |    Internetverbindung |    Skripten oder      |
|                       |    erforderlich       |    Konfigurationsdate |
|                       |                       | ien                   |
|                       |                       | -  werden Änderungen  |
|                       |                       |    an diesen Dateien  |
|                       |                       |    vorgenommen,       |
|                       |                       |    müssen diese auch  |
|                       |                       |    wieder in die      |
|                       |                       |    debug.cfg          |
|                       |                       |    übernommen werden  |
+-----------------------+-----------------------+-----------------------+
| Nachladen von         | -  funktioniert mit   | -  bestehende         |
| Webserver             |    allen Dateien,     |    Internetverbindung |
|                       |    auch mit binären.  |    oder laufender     |
|                       |    Notwendig z.B. für |    interner Webserver |
|                       |    nachgeladene       |    erforderlich       |
|                       |    Programme wie z.B. | -  private Dateien    |
|                       |    bFTP,              |    wie z.B. secret    |
|                       |    dropbear(SSH) oder |    keys für SSH oder  |
|                       |    OpenVPN,           |    VPN dürfen         |
|                       | -  funktioniert auf   |    keinesfalls im Web |
|                       |    jeder Box          |    abgelegt werden!   |
|                       | -  Umgeht die         |    Wer dies tut, kann |
|                       |    Probleme des       |    sich               |
|                       |    knappen            |    Verschlüsselung    |
|                       |    Flash-Speichers    |    gleich sparen.     |
|                       | -  Änderungen lassen  |                       |
|                       |    sich leicht am     |                       |
|                       |    Rechner mit dem    |                       |
|                       |    eigenen Editor     |                       |
|                       |    (z.B. TextPad)     |                       |
|                       |    vornehmen          |                       |
|                       |    (Achtung: Auf      |                       |
|                       |    UNIX-Formatierung  |                       |
|                       |    achten!) und dann  |                       |
|                       |    auf den Webspace   |                       |
|                       |    hochladen.         |                       |
|                       | -  wer mehrere        |                       |
|                       |    Fritz!Boxen oder   |                       |
|                       |    Router hat, kann   |                       |
|                       |    so auf einmal die  |                       |
|                       |    Konfiguration für  |                       |
|                       |    alle gleichzeitig  |                       |
|                       |    anpassen           |                       |
+-----------------------+-----------------------+-----------------------+
| Nachladen vom USB     | -  funktioniert mit   | -  funktioniert nur   |
| Stick                 |    allen Dateien,     |    bei vorhendenem    |
|                       |    auch mit binären.  |    USB Slot mit einem |
|                       |    Notwendig z.B. für |    USB Stick (bzw.    |
|                       |    nachgeladene       |    anderem USB        |
|                       |    Programme wie z.B. |    Speichermedium)    |
|                       |    bFTP,              | -  Die USB devices    |
|                       |    dropbear(SSH) oder |    werden, je nach    |
|                       |    OpenVPN,           |    Firmware, leider   |
|                       | -  Umgeht die         |    unter              |
|                       |    Probleme des       |    verschiedenen      |
|                       |    knappen            |    Namen eingebunden, |
|                       |    Flash-Speichers    |    sodaß in der       |
|                       | -  Änderungen lassen  |    debug.cfg darau    |
|                       |    sich leicht am     |    eingegangen werden |
|                       |    Rechner mit dem    |    muß.               |
|                       |    eigenen Editor     |                       |
|                       |    (z.B. Notepadplus) |                       |
|                       |    vornehmen          |                       |
+-----------------------+-----------------------+-----------------------+
| WebDAV- bzw. NFS-     | -  RAM wird nicht mit | -  bestehende         |
| Share mounten         |    lokalen Kopien von |    Internetverbindung |
|                       |    Dateien gefüllt    |    und WebDAV-Server  |
|                       |    (abgesehen von der |    (z.B. GMX/1&1      |
|                       |    Ausführung)        |    MediaCenter)       |
|                       | -  funktioniert mit   |    erforderlich       |
|                       |    allen Dateien,     | -  private Dateien    |
|                       |    auch mit binären   |    wie z.B. secret    |
|                       | -  funktioniert auf   |    keys für SSH oder  |
|                       |    jeder Box          |    VPN dürfen         |
|                       | -  umgeht die         |    keinesfalls im Web |
|                       |    Probleme des       |    abgelegt werden!   |
|                       |    knappen            |    Wer dies tut, kann |
|                       |    Flash-Speichers    |    sich               |
|                       | -  sehr komfortabel,  |    Verschlüsselung    |
|                       |    da kein Nachladen  |    gleich sparen.     |
|                       |    per debug.cfg      |                       |
|                       |    nötig ist          |                       |
|                       | -  Änderungen lassen  |                       |
|                       |    sich leicht am     |                       |
|                       |    Rechner mit dem    |                       |
|                       |    eigenen Editor     |                       |
|                       |    (z.B. TextPad)     |                       |
|                       |    vornehmen          |                       |
|                       |    (Achtung: Auf      |                       |
|                       |    UNIX-Formatierung  |                       |
|                       |    achten!) und dann  |                       |
|                       |    auf den            |                       |
|                       |    WebDAV-Share       |                       |
|                       |    hochladen.         |                       |
|                       | -  wer mehrere        |                       |
|                       |    Fritz!Boxen oder   |                       |
|                       |    Router hat, kann   |                       |
|                       |    so auf einmal die  |                       |
|                       |    Konfiguration für  |                       |
|                       |    alle gleichzeitig  |                       |
|                       |    anpassen           |                       |
+-----------------------+-----------------------+-----------------------+

Die "perfekte Lösung" gibt es natürlich nicht. Je nach Anwendungsfall
werden die Möglichkeiten kombiniert.

.. _FesteIntegrationüberdasFreetzImage:

Feste Integration über das Freetz Image
---------------------------------------

-  Freetz-1.1.x: Die Datei kann unter ``./root`` an die gewünschte
   Stelle kopiert werden.
-  Ab Freetz-1.2: Dies kann ohne großen Aufwand über das Beispiel Addon
   ``own-files-0.1`` realisiert werden. Einfach das Kommentarzeichen vor
   ``own-files-0.1`` in addon/static.pkg entfernen und die gewünschten
   Dateien in das Verzeichnis ``./addon/own-files-0.1/root/`` an die
   Stelle kopieren, an der sie im root Dateisystem der Box landen
   sollen.
   Beispiel: eine Datei ``./addon/own-files-0.1/root/usr/bin/foo`` wird
   auf der Box in ``/usr/bin/foo`` landen.

..

   Dateien und Verzeichnisse, die unterhalb von ``/var`` liegen sollen
   können nach ``./addon/own-files-0.1/var.tar`` kopiert werden.
   Änderungen an diesen Dateien gehen bei jedem Reboot verloren.

.. _ErzeugenderDateienausderdebug.cfg:

Erzeugen der Dateien aus der debug.cfg
--------------------------------------

Beim Booten werden die gewünschten Dateien im Verzeichnis ``/tmp`` neu
erstellt. Dazu wird das Script ``debug.cfg`` missbraucht, das beim
Starten der FritzBox automatisch ausgeführt wird. Da die ``debug.cfg``
selbst im beschreibbaren TFFS des Flash (mtd3/4) liegt, gehen ihre
Inhalte beim Reboot nicht verloren.

Beispiel:

Der Code wird einfach in die ``debug.cfg`` eingefügt. Am einfachsten
geht es mit Putty:

-  Code in Zwischenablage kopieren
-  mit der Box via telnet / SSH verbinden
-  nvi /var/flash/debug.cfg
-  mit *: set paste RETURN* in den Einfügen/Paste Modus wechseln
-  an der passenden stelle "i" für insert drücken
-  rechte Maustaste auf Putty fügt den Text ein
-  nacheinander *ESC ESC : w q RETURN* drücken (Abbrechen wäre: *ESC ESC
   : q ! RETURN*)
-  Neustarten

Hier wird ein Skript erzeugt, das sich mit ``/var/tmp/checkonline.sh``
aufrufen lässt. Es zeigt an, welcher der neun Rechner im FB-LAN online
ist. Wichtig ist, daß der "Endmarker" (hier 'ENDCHECK') **nicht
eingerückt** ist. Die letzte Zeile macht das Script ausführbar. Abbruch
mit STRG+C.

::

   cat > /var/tmp/checkonline.sh << 'ENDCHECK'
   #!/bin/sh

   while [ 1 = 1 ]
   do
        clear
        echo Online:
        date
        echo ------------------------------------------------
        for a in "2 Desktop1" "3 Michael" "20 Christina" "21 -" "22 -" "23 -" "24 -" "25 -" "26 -" "27 -" "28 -"  "29 -" "45 FB WLAN SL(WDS)"

        do
                 ping -c 1 192.168.178.$a |grep "bytes from ">/dev/null && echo 192.168.178.$a &
        done
        sleep 1
        echo ------------------------------------------------
        sleep 9
   done

   ENDCHECK
   chmod +x /var/tmp/checkonline.sh

.. _NachladenvomWebserver:

Nachladen vom Webserver
-----------------------

Beim Booten werden alle gewünschten Dateinen aus dem Internet oder von
einem Webserver im Intranet auf die Box geladen.

.. _NachladenvomUSB-Stick:

Nachladen vom USB-Stick
-----------------------

Beim Booten werden alle gewünschten Dateinen direkt vom USB Stick bzw.
via FTP vom internen FTP Server auf die Box geladen.

.. _WebDAVSharemounten:

WebDAV Share mounten
--------------------

Für `Freetz <../../../index.html>`__ gibt es das Paket
`WebDAV <../../../packages/davfs2.html>`__, über das man einen
WebDAV-Share direkt mounten kann. Als Konsequenz werden alle
Remote-Dateien so behandelt, als wären sie lokal vorhanden, und zwar
ohne gesondertes Nachladen.

.. _NFS-Sharemounten:

NFS-Share mounten
-----------------

Mit dem `NFS Paket <../../../packages/nfs.html>`__ lässt sich gleiches
erreichen wie mit WebDAV (s.o.), nur etwas stabiler |:)|

-  Tags
-  `howtos </tags/howtos>`__

.. |:)| image:: ../../../../chrome/wikiextras-icons-16/smiley.png

